<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="hos">

	<insert id="host_insert" parameterType="ho">
		INSERT INTO host (
		host_name,
		HOST_INFO,
		USER_ID,
		host_img,
		APPROVAL
		)
		VALUES (
		#{host_name},
		#{host_info},
		#{user_id},
		#{host_img},
		#{approval}
		)
	</insert>

	<select id="host_info" parameterType="int" resultType="ho">
		select * from host
		where user_id = #{user_id}
	</select>

	<!-- host apply 수정 -->
	<update id="host_modify" parameterType="ho">
		UPDATE host SET
		host_name
		= #{host_name},
		host_info = #{host_info},
		host_img = #{host_img}
		where
		user_id = #{user_id}
	</update>

	<!-- host 모든 정보 조회 -->
	<select id="admin_host_list" resultType="ho">
		SELECT
		u.user_Id,
		u.user_email,
		u.user_name,
		u.LV,
		u.phone,
		h.host_name
		FROM
		users u
		JOIN
		host h
		ON
		u.user_Id = h.user_Id
	</select>

	<!-- 호스트 상세 정보 조회 -->
	<select id="host_info_one" parameterType="int" resultType="ho">
		SELECT
			u.user_Id,
			u.user_email,
			u.user_name,
			u.LV,
			u.phone,
			h.host_name,
			h.host_info,
			h.host_img
		FROM
			users u
		JOIN
			host h
		ON
			u.user_Id = h.user_Id
		WHERE u.user_id = #{user_id}
	</select>
	
	<!-- 호스트 삭제 -->
	<delete id="host_del" parameterType="int">
		DELETE FROM host
    	WHERE user_id = #{user_id}
	</delete>

	<!-- 호스트 승인 -->
	<update id="hobee_approval" parameterType="ho">
	  UPDATE host
	  SET approval = #{approval}
	  WHERE user_id = #{user_id}
	</update>
	

</mapper>
