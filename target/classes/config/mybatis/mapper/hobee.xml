<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="h">

	<!-- best 제품 조회 -->
	<select id="hobee_best_list" resultType="hobee">
		SELECT * FROM hobee
		ORDER BY num_of_p DESC
	</select>

	<!-- pick 제품 조회 -->
	<select id="hobee_pick_list" resultType="hobee">
		select * from hobee
		ORDER BY hb_price DESC
	</select>

	<!-- 신규 제품 조회 -->
	<select id="hobee_new_list" resultType="hobee">
		SELECT * FROM hobee
		WHERE hb_write_date >= SYSDATE - 30
		ORDER BY hb_write_date DESC
	</select>

	<!-- 헤더, 검색된 제품 조회 -->
	<select id="hobee_search_list" resultType="hobee"
		parameterType="String">
		SELECT * FROM hobee
		WHERE hb_title LIKE '%' || #{search_text} || '%'
	</select>


	<!-- 호스트 제품 등록 -->
	<insert id="hobee_insert" parameterType="hobee">
		insert into hobee values(
			SEQ_HB_IDX.nextVal,
	        #{hb_title}, 
	        #{s_image}, 
	        #{l_image}, 
	        #{in_image}, 
	        #{hb_content}, 
	        #{hb_price}, 
	        #{num_of_p}, 
	        #{user_id}, 
	        #{hb_date}, 
	        #{hb_tot_num}, 
	        SYSDATE, 
	        #{category_num}, 
	        #{status}, 
	        #{hb_notice}, 
	        #{hb_time}, 
	        #{hb_address}, 
	        #{postcode}, 
	        #{address}, 
	        #{detailAddress},
	        #{extraAddress}
		)
	</insert>
	
	<!-- 호스트 프로그램 신청 조회 -->
	<select id="hobee_apply_list" resultType="hobee">
		SELECT * FROM hobee
	</select>

</mapper>























